# Моделювання даних - процес проектування

## Структура бази даних: від ідеї до створення

Вимога бізнесу → Модель → База даних

## 3 рівні моделей

### Рівні:

Концептуальна: Що описує - Для кого
- Питання: Які об'єкти існують? Які зв'язки існують?
- Для бізнесу: Замовник

Логічна: Що зберігаємо - Бізнес, залежності
- Питання: Як структуровано - Аналітик

Фізична: Як реалізовано - Розробник
- Питання: Який SQL код?

## Концептуальна модель

Найвища рівень. Плюси сутності та зв'язки.

Що є:
- Сутності
- Зв'язки або ідеї

Чого немає:
- Атрибутів
- Ключів
- Типів даних

### Приклад (Бібліотека)

[Читач] --- бере --- [Книга]
[Книга] --- написана --- [Автор]

## Логічна модель

Середній рівень: Додаємо деталі.

Що є:
- Сутності з атрибутами
- Первинні ключі (PK)
- Зовнішні ключі (FK)
- Типи зв'язків (1:1, 1:N, M:N)

Чого немає:
- Типів таблиць даних
- Індексів
- SQL

### Приклад (ПДВ)

Читач (reader_id PK, name, email)
Книга (book_id, name, author_id FK)

## Фізична модель

Найнижчий рівень: Конкретна реалізація.

CREATE TABLE readers (
  reader_id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(255) UNIQUE
);

## ER-модель (Entity-Relationship)

Спосіб візуалізації БД.

### 3 компоненти:

Entity (Сутність): Об'єкт, прямокутник
Attribute (Атрибут): Властивості, овал (Сім'я) або всередині (Сім'яFoot)
Relationship (Зв'язок): Як пов'язані, лінія або ромб

## Типи зв'язків

### 1:1 (Один до одного)

Один до одного
Приклад: Людина - Паспорт

### 1:N (Один до багатьох)

Один до багатьох
Приклад: Автор - Книга

### M:N (Багато до багатьох)

Багато до багатьох
Приклад: Студенти - Курси

M:N завжди розділюється через проміжну таблицю.

## Нотації ER-моделей

### 1. Chen (Класична)

Академічна

### 2. Crow's Foot (найпопулярніша)

Бізнес, практика

### 3. UML

Програмування

## Реляційні БД

Що таке реляційна БД?

БД, де дані зберігаються в таблицях (відношеннях).

### Структура:

Таблиця (Table) = Відношення (Relation)
Рядок (Row) = Запис (Record) = Кортеж (Tuple)
Стовпець (Column) = Поле (Field) = Атрибут (Attribute)

## Основи характеристик реляційних БД

### Характеристика - Опис:

Табличний формат:
- Дані в рядках і стовпцях
- Кінці рядків унікальні (PK)

Унікальні рядки:
- 1 комірка = 1 значення

Атомарні значення:
- Рядки/стовпці не мають порядку

Порядок не важливий:
- Табл. незалежні через FK

Зв'язані через ключі:
- Стандартна мова запитів

SQL:
- Гарантії транзакцій

ACID

## Приклад (ПДВ)

Читач (reader_id PK, name, email)
Книга (book_id, name, author_id FK)

## Фізична модель

Найнижчий рівень: Конкретна реалізація.

CREATE TABLE readers (
  reader_id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(255) UNIQUE
);

## Нотації ER-моделей (продовження)

### 1. Chen (Класична)

Читач ——— Бере ——— Книга
(прямокутник) (ромб) (прямокутник)

Позначення:
- Атрибут: овал
- Зв'язок: ромб
- Сутність: прямокутник

### 2. Crow's Foot (найпопулярніша)

1:1
———|———

1:N
———<———

1:1 (and only one)
———|———

1:1 || 1:N
———|<———

1:0 || 1:N
———o<———

### 3. UML

Читач ×————→ Книга
reader_id     title
              ID

1 - рівно 1
× - багато
0..1 - нуль або 1
0..* - 0 або багато

## Типи зв'язків (деталі)

### 1:1 (Один до одного)

Приклад: Людина - Паспорт

Автор ———|——— Книга
author_id       Book_id
name            title
                author_id

### 1:N (Один до багатьох)

Автор ———<——— Книга

### 1:1 || 1:N

Автор ———|<——— Книга

### 1:0 || 1:N

Автор ———o<——— Книга